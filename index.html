<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¼ æ²³ä¸å†…è’™å¤è¾¹å¢ƒè‡ªé©¾æ¢é™©ä¹‹æ—…</title>
    <!-- æ›´æ–°ç™¾åº¦åœ°å›¾APIç‰ˆæœ¬å’Œé…ç½® -->
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=N4BtpP9TDw5VDImqI9oEazOeiPlPQtoH"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .itinerary-section, .map-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .section-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px 30px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .itinerary-content {
            padding: 0;
            max-height: 600px;
            overflow-y: auto;
        }

        .day-item {
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .day-item:hover {
            background-color: #f8f9fa;
        }

        .day-item:last-child {
            border-bottom: none;
        }

        .day-header {
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        .day-content {
            padding: 20px 30px;
            display: none;
            background-color: #fafbfc;
        }

        .day-content.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .day-content h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .day-content p {
            margin-bottom: 12px;
            color: #555;
        }

        .route-info {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .route-info strong {
            color: #e67e22;
        }

        .accommodation {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .map-container {
            height: 600px;
            width: 100%;
            position: relative;
        }

        /* æ·»åŠ åŠ è½½æç¤ºæ ·å¼ */
        .map-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #667eea;
            font-size: 18px;
            font-weight: 600;
        }

        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn.active {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .overview-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            padding: 30px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .overview-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
        }

        .overview-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .toggle-icon {
            transition: transform 0.3s ease;
        }

        .toggle-icon.rotated {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .day-header, .day-content, .section-header {
                padding: 15px 20px;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
        }

        .weather-info {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .highlight {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>æ¼ æ²³ä¸å†…è’™å¤è¾¹å¢ƒè‡ªé©¾æ¢é™©ä¹‹æ—…</h1>
            <p>8æœˆ27æ—¥-9æœˆ2æ—¥ Â· 7å¤©6å¤œ Â· æ¢ç´¢ä¸­å›½æœ€åŒ—ç«¯çš„å£®ä¸½é£å…‰ä¸è¾¹å¢ƒæ–‡åŒ–</p>
        </div>

        <div class="overview-section">
            <h2 style="text-align: center; color: #2c3e50; margin-bottom: 10px;">æ—…ç¨‹äº®ç‚¹</h2>
            <p style="text-align: center; color: #7f8c8d; margin-bottom: 20px;">åœ¨å¤æœ«ç§‹åˆçš„é»„é‡‘å­£èŠ‚ï¼Œä½“éªŒåŒ—ç–†ç‹¬ç‰¹çš„è‡ªç„¶å¥‡è§‚ä¸å¤šå…ƒæ–‡åŒ–</p>
            <div class="overview-grid">
                <div class="overview-card">
                    <h3>ğŸŒ²</h3>
                    <h4>æ¼ æ²³"åŒ—æ"ä½“éªŒ</h4>
                    <p>ä¸­å›½æœ€åŒ—ç«¯ï¼ŒåŒ—ææ‘ï¼Œé©¯é¹¿å›­</p>
                </div>
                <div class="overview-card">
                    <h3>ğŸŒ¾</h3>
                    <h4>å‘¼ä¼¦è´å°”å¤§è‰åŸ</h4>
                    <p>é‡‘ç§‹è‰åŸï¼Œè’™å¤åŒ…ä½“éªŒï¼Œéª‘é©¬</p>
                </div>
                <div class="overview-card">
                    <h3>ğŸ˜ï¸</h3>
                    <h4>ä¿„ç½—æ–¯é£æƒ…</h4>
                    <p>æ©å’Œæ°‘æ—ä¹¡ï¼Œæ»¡æ´²é‡Œè¾¹å¢ƒåŸå¸‚</p>
                </div>
                <div class="overview-card">
                    <h3>ğŸ¦Œ</h3>
                    <h4>åŸä½æ°‘æ–‡åŒ–</h4>
                    <p>é„‚ä¼¦æ˜¥ï¼Œé„‚æ¸©å…‹æ°‘æ—ä¼ ç»Ÿ</p>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="itinerary-section">
                <div class="section-header">
                    ğŸ“… è¯¦ç»†è¡Œç¨‹å®‰æ’
                </div>
                <div class="itinerary-content">
                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(1)">
                            <span>ç¬¬1å¤©ï¼šæŠµè¾¾æ¼ æ²³</span>
                            <span class="toggle-icon" id="icon-1">â–¼</span>
                        </div>
                        <div class="day-content" id="day-1">
                            <div class="weather-info">
                                <strong>å¤©æ°”ï¼š</strong>8æœˆæœ«å¹³å‡æ°”æ¸©18Â°Cï¼Œæ¸…çˆ½å®œäºº
                            </div>
                            <h4>ğŸ“ æŠµè¾¾å®‰æ’</h4>
                            <p><strong>17:05</strong> æŠµè¾¾æ¼ æ²³æœºåœºï¼ŒåŠç†ç§Ÿè½¦æ‰‹ç»­</p>
                            <p><strong>å‚æ™šï¼š</strong>é©±è½¦å‰å¾€æ¼ æ²³å¸‚åŒºï¼ˆ13å…¬é‡Œï¼Œ20-30åˆ†é’Ÿï¼‰</p>
                            
                            <div class="route-info">
                                <strong>è·¯çº¿ï¼š</strong>æ¼ æ²³æœºåœº â†’ æ¼ æ²³å¸‚åŒº <br>
                                <strong>è·ç¦»ï¼š</strong>13å…¬é‡Œ | <strong>ç”¨æ—¶ï¼š</strong>20-30åˆ†é’Ÿ
                            </div>
                            
                            <h4>ğŸ¨ ä½å®¿å»ºè®®</h4>
                            <div class="accommodation">
                                â€¢ æ¼ æ²³é“¶éº“é…’åº—ï¼ˆåŒ—ææ˜Ÿå¹¿åœºåº—ï¼‰<br>
                                â€¢ è‰ºé¾™é…’åº—ï¼ˆæ¼ æ²³åŒ—ææ˜Ÿå¹¿åœºå¸‚æ”¿åºœåº—ï¼‰<br>
                                â€¢ æ¼ æ²³å®œåˆä½³å‡æ—¥å®¾é¦†
                            </div>
                            
                            <h4>ğŸ½ï¸ é¤é¥®æ¨è</h4>
                            <p>å“å°æ¼ æ²³å½“åœ°ç‰¹è‰²èœè‚´ï¼Œä»¥é‡æœã€è˜‘è‡ã€æ²³é±¼ä¸ºç‰¹è‰²</p>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(2)">
                            <span>ç¬¬2å¤©ï¼šæ¼ æ²³æ·±åº¦æ¢ç´¢</span>
                            <span class="toggle-icon" id="icon-2">â–¼</span>
                        </div>
                        <div class="day-content" id="day-2">
                            <h4>ğŸŒ… ä¸Šåˆè¡Œç¨‹</h4>
                            <p>ä»æ¼ æ²³å¸‚åŒºå‡ºå‘å‰å¾€åŒ—ææ‘ï¼ˆ80å…¬é‡Œï¼Œ1.5å°æ—¶ï¼‰</p>
                            
                            <div class="highlight">
                                <strong>é‡ç‚¹æ™¯ç‚¹ï¼š</strong><br>
                                â€¢ åŒ—ææ²™æ´²ï¼ˆä¸­å›½æœ€åŒ—ç‚¹ï¼‰<br>
                                â€¢ æœ€åŒ—é‚®å±€ï¼ˆå¯„æ˜ä¿¡ç‰‡ç•™å¿µï¼‰<br>
                                â€¢ æœ€åŒ—å“¨æ‰€ï¼ˆå¤–è§‚ï¼‰<br>
                                â€¢ åº„ä¸¥ç•Œç¢‘
                            </div>
                            
                            <h4>ğŸŒ„ ä¸‹åˆè¡Œç¨‹</h4>
                            <p>â€¢ é„‚æ¸©å…‹é©¯é¹¿å›­ï¼šä¸é©¯é¹¿äº²å¯†äº’åŠ¨</p>
                            <p>â€¢ é¾™æ±Ÿç¬¬ä¸€æ¹¾ï¼šç™»998çº§å°é˜¶ä¿¯ç°Î©å½¢æ±Ÿæ¹¾</p>
                            <p>â€¢ ä¹Œè‹é‡Œæµ…æ»©ï¼šä¸­å›½æœ€åŒ—ç‚¹ï¼ˆåŒ—çº¬53Â°33â€²43â€³ï¼‰</p>
                            
                            <div class="route-info">
                                <strong>æ€»è·¯ç¨‹ï¼š</strong>çº¦230å…¬é‡Œ | <strong>é©¾é©¶æ—¶é—´ï¼š</strong>4.5å°æ—¶
                            </div>
                            
                            <h4>ğŸ¡ å¤œå®¿åŒ—çº¢æ‘</h4>
                            <div class="accommodation">
                                æ¨èï¼šåŒ—çº¢æ‘ç«ç‚•æ°‘å®¿<br>
                                ä½“éªŒåœ°é“ä¸œåŒ—æ°‘ä¿—ï¼Œå“å°å†œå®¶èœ
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(3)">
                            <span>ç¬¬3å¤©ï¼šæ£®æ—å¤§ç©¿è¶Š - åŒ—çº¢æ‘è‡³æ ¹æ²³</span>
                            <span class="toggle-icon" id="icon-3">â–¼</span>
                        </div>
                        <div class="day-content" id="day-3">
                            <h4>ğŸŒ² æ£®æ—ç©¿è¶Šä¹‹æ—…</h4>
                            <p>ä½“éªŒä»æ¼ æ²³åˆ°å†…è’™å¤çš„æ™¯è§‚è¿‡æ¸¡ï¼Œç©¿è¶ŠèŒ‚å¯†åŸå§‹æ£®æ—</p>
                            
                            <div class="route-info">
                                <strong>è·¯çº¿ï¼š</strong>åŒ—çº¢æ‘ â†’ æ»¡å½’é•‡ â†’ æ ¹æ²³<br>
                                <strong>è·ç¦»ï¼š</strong>300å…¬é‡Œ | <strong>ç”¨æ—¶ï¼š</strong>4-5å°æ—¶
                            </div>
                            
                            <h4>ğŸ½ï¸ ä¸­é€”ä¼‘æ¯</h4>
                            <p>åœ¨æ»¡å½’é•‡åœé åˆé¤ï¼Œå“å°æ—åŒºç‰¹è‰²å°åƒ</p>
                            
                            <h4>ğŸŒ¿ æŠµè¾¾æ ¹æ²³</h4>
                            <p>æ¢ç´¢æ ¹æ²³æ¹¿åœ°å…¬å›­ï¼Œäº«å—ç”Ÿæ€ç¾æ™¯</p>
                            
                            <div class="accommodation">
                                ä½å®¿ï¼šæ ¹æ²³æ•–é²å¤é›…é…’åº—<br>
                                ç¯å¢ƒä¼˜é›…ï¼Œé‚»è¿‘æ™¯åŒº
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(4)">
                            <span>ç¬¬4å¤©ï¼šæ¹¿åœ°ä¸ä¿„ç½—æ–¯é£æƒ…</span>
                            <span class="toggle-icon" id="icon-4">â–¼</span>
                        </div>
                        <div class="day-content" id="day-4">
                            <h4>ğŸ’§ é¢å°”å¤çº³æ¹¿åœ°</h4>
                            <p>å‚è§‚äºšæ´²æœ€å¤§æ¹¿åœ°ï¼Œä»è§‚æ™¯å¹³å°æ¬£èµå£®ä¸½æ™¯è‰²</p>
                            
                            <div class="route-info">
                                <strong>è·¯çº¿ï¼š</strong>æ ¹æ²³ â†’ é¢å°”å¤çº³ â†’ æ©å’Œ<br>
                                <strong>è·ç¦»ï¼š</strong>150å…¬é‡Œ | <strong>ç”¨æ—¶ï¼š</strong>2-3å°æ—¶
                            </div>
                            
                            <h4>ğŸ˜ï¸ æ©å’Œä¿„ç½—æ–¯æ°‘æ—ä¹¡</h4>
                            <p>æ²‰æµ¸å¼ä¿„ç½—æ–¯æ–‡åŒ–ä½“éªŒï¼š</p>
                            <p>â€¢ ç‹¬ç‰¹æœ¨åˆ»æ¥å»ºç­‘</p>
                            <p>â€¢ ä¿„è¯­ä¸æ±‰è¯­å¹¶å­˜</p>
                            <p>â€¢ ä¼ ç»Ÿä¿„ç½—æ–¯ç”Ÿæ´»æ–¹å¼</p>
                            
                            <div class="accommodation">
                                ä½å®¿ï¼šæ©å’Œä¿„å¼æœ¨åˆ»æ¥æ°‘å®¿<br>
                                â€¢ æ©å’Œå“å¨…ä¿„ç½—æ–¯æ—…æ¸¸ä¹‹å®¶<br>
                                â€¢ æ©å’Œç›ç’å¤å®¶åº­æ¸¸ä½å®¿<br>
                                â€¢ æ©å’Œæ²³ç•”æœ¨å±‹æ°‘å®¿
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(5)">
                            <span>ç¬¬5å¤©ï¼šä¸­ä¿„è¾¹å¢ƒä¸è‰åŸé£å…‰</span>
                            <span class="toggle-icon" id="icon-5">â–¼</span>
                        </div>
                        <div class="day-content" id="day-5">
                            <h4>ğŸ›ï¸ å®¤éŸ¦ä¿„ç½—æ–¯æ°‘æ—ä¹¡</h4>
                            <p>ä½“éªŒ"è’™æºã€ä¿„ä¿—ã€ç”Ÿæ€ã€ç•Œæ²³"çš„ç‹¬ç‰¹é­…åŠ›</p>
                            <p>æ¼«æ­¥é¢å°”å¤çº³æ²³ç•”ï¼Œè¿œçœºä¿„ç½—æ–¯æ‘åº„</p>
                            
                            <div class="route-info">
                                <strong>ä¸Šåˆï¼š</strong>æ©å’Œ â†’ å®¤éŸ¦ï¼ˆ67å…¬é‡Œï¼Œ1å°æ—¶ï¼‰<br>
                                <strong>ä¸‹åˆï¼š</strong>å®¤éŸ¦ â†’ æ©å’Œ â†’ æ»¡æ´²é‡Œï¼ˆ200å…¬é‡Œï¼Œ2-3å°æ—¶ï¼‰
                            </div>
                            
                            <h4>ğŸŒ¾ æ·±å…¥å‘¼ä¼¦è´å°”å¤§è‰åŸ</h4>
                            <p>é©±è½¦ç©¿è¶Šæ ‡å¿—æ€§çš„é‡‘è‰²è‰åŸè…¹åœ°</p>
                            
                            <h4>ğŸ™ï¸ æŠµè¾¾æ»¡æ´²é‡Œ</h4>
                            <p>é‡è¦è¾¹å¢ƒåŸå¸‚ï¼Œæµ“éƒä¿„ç½—æ–¯é£æƒ…</p>
                            
                            <div class="accommodation">
                                ä½å®¿é€‰æ‹©ï¼š<br>
                                â€¢ Matryoshka Hotelï¼ˆå¥—å¨ƒä¸»é¢˜ï¼‰<br>
                                â€¢ æ»¡æ´²é‡Œå¤§é¥­åº—ï¼ˆåœ°æ ‡æ€§é…’åº—ï¼‰<br>
                                â€¢ æ±‰åº­æ»¡æ´²é‡ŒåŒ—æ¹–å…¬å›­é…’åº—
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(6)">
                            <span>ç¬¬6å¤©ï¼šæ»¡æ´²é‡Œä¸è‰åŸæ·±åº¦ä½“éªŒ</span>
                            <span class="toggle-icon" id="icon-6">â–¼</span>
                        </div>
                        <div class="day-content" id="day-6">
                            <h4>ğŸª æ»¡æ´²é‡Œå¸‚åŒºæ¸¸è§ˆ</h4>
                            <p>â€¢ å¥—å¨ƒå¹¿åœºï¼šå·¨å‹ä¿„ç½—æ–¯å¥—å¨ƒ</p>
                            <p>â€¢ æ»¡æ´²é‡Œå›½é—¨ï¼šè¾¹å¢ƒåœ°æ ‡</p>
                            
                            <div class="highlight">
                                <strong>é‡è¦æé†’ï¼š</strong><br>
                                å‚è§‚è¾¹å¢ƒåŒºåŸŸå‰åŠ¡å¿…äº†è§£ç›¸å…³è§„å®šå’Œé™åˆ¶ï¼Œéµå®ˆè¾¹å¢ƒç®¡ç†è¦æ±‚
                            </div>
                            
                            <h4>ğŸ å‘¼ä¼¦è´å°”å¤§è‰åŸä½“éªŒ</h4>
                            <p>â€¢ éª‘é©¬ä½“éªŒ</p>
                            <p>â€¢ æ‹œè®¿ç‰§æ°‘å®¶åº­</p>
                            <p>â€¢ äº†è§£æ¸¸ç‰§ç”Ÿæ´»æ–¹å¼</p>
                            
                            <h4>ğŸ– ä¼ ç»Ÿå†…è’™å¤ç››å®´</h4>
                            <p>å“å°ç¾Šè‚‰èœè‚´å’Œç‰¹è‰²å¥¶åˆ¶å“</p>
                            
                            <div class="accommodation">
                                ç‰¹è‰²ä½å®¿ï¼šè’™å¤åŒ…ä½“éªŒ<br>
                                æ„Ÿå—æ¸¸ç‰§æ°‘æ—ä¼ ç»Ÿç”Ÿæ´»
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(7)">
                            <span>ç¬¬7å¤©ï¼šå‘Šåˆ«è‰åŸï¼Œå¯ç¨‹è¿”ç¨‹</span>
                            <span class="toggle-icon" id="icon-7">â–¼</span>
                        </div>
                        <div class="day-content" id="day-7">
                            <h4>ğŸŒ… æœ€åçš„è‰åŸæ—¶å…‰</h4>
                            <p>äº«ç”¨ä¸°ç››çš„å†…è’™å¤æ—©é¤</p>
                            
                            <div class="route-info">
                                <strong>è·¯çº¿ï¼š</strong>æ»¡æ´²é‡Œ â†’ æµ·æ‹‰å°”<br>
                                <strong>è·ç¦»ï¼š</strong>60å…¬é‡Œ | <strong>ç”¨æ—¶ï¼š</strong>1-2å°æ—¶
                            </div>
                            
                            <h4>ğŸŒŠ è«å°”æ ¼å‹’æ²³</h4>
                            <p>æ¬£èµ"ä¹æ›²åå…«å¼¯"çš„æŸ”ç¾æ›²çº¿ï¼Œä¸ºæ—…ç¨‹ç”»ä¸Šå®Œç¾å¥å·</p>
                            
                            <h4>âœˆï¸ è¿”ç¨‹å®‰æ’</h4>
                            <p><strong>èˆªç­æ—¶é—´ï¼š</strong>17:35 æµ·æ‹‰å°”æœºåœºèµ·é£</p>
                            <p><strong>ä¸‹åˆå®‰æ’ï¼š</strong>æµ·æ‹‰å°”å¸‚åŒºæ´»åŠ¨ï¼Œè´­ä¹°çºªå¿µå“</p>
                            <p>å¯å‚è§‚åæ³•è¥¿æ–¯çºªå¿µå›­</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="map-section">
                <div class="section-header">
                    ğŸ—ºï¸ è·¯çº¿åœ°å›¾
                </div>
                <div id="map" class="map-container">
                    <div class="map-loading" id="mapLoading">åœ°å›¾åŠ è½½ä¸­...</div>
                </div>
                <div class="controls">
                    <button class="btn" id="btn-full" onclick="showFullRoute()">æ˜¾ç¤ºå®Œæ•´è·¯çº¿</button>
                    <button class="btn" onclick="showDayRoute(1)">ç¬¬1å¤©</button>
                    <button class="btn" onclick="showDayRoute(2)">ç¬¬2å¤©</button>
                    <button class="btn" onclick="showDayRoute(3)">ç¬¬3å¤©</button>
                    <button class="btn" onclick="showDayRoute(4)">ç¬¬4å¤©</button>
                    <button class="btn" onclick="showDayRoute(5)">ç¬¬5å¤©</button>
                    <button class="btn" onclick="showDayRoute(6)">ç¬¬6å¤©</button>
                    <button class="btn" onclick="showDayRoute(7)">ç¬¬7å¤©</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let map;
        let markers = [];
        let polylines = [];
        let currentActiveBtn = null;
        
        // ä¸»è¦åœ°ç‚¹åæ ‡
        const locations = {
            'æ¼ æ²³æœºåœº': {lng: 122.432, lat: 52.911},
            'æ¼ æ²³å¸‚åŒº': {lng: 122.539, lat: 52.972},
            'åŒ—ææ‘': {lng: 122.377, lat: 53.484},
            'åŒ—çº¢æ‘': {lng: 122.186, lat: 53.436},
            'æ ¹æ²³': {lng: 121.520, lat: 50.780},
            'é¢å°”å¤çº³': {lng: 120.191, lat: 50.244},
            'æ©å’Œ': {lng: 120.033, lat: 51.283},
            'å®¤éŸ¦': {lng: 120.747, lat: 51.123},
            'æ»¡æ´²é‡Œ': {lng: 117.378, lat: 49.597},
            'æµ·æ‹‰å°”': {lng: 119.736, lat: 49.213}
        };

        // æ¯æ—¥è·¯çº¿
        const dailyRoutes = {
            1: ['æ¼ æ²³æœºåœº', 'æ¼ æ²³å¸‚åŒº'],
            2: ['æ¼ æ²³å¸‚åŒº', 'åŒ—ææ‘', 'åŒ—çº¢æ‘'],
            3: ['åŒ—çº¢æ‘', 'æ ¹æ²³'],
            4: ['æ ¹æ²³', 'é¢å°”å¤çº³', 'æ©å’Œ'],
            5: ['æ©å’Œ', 'å®¤éŸ¦', 'æ»¡æ´²é‡Œ'],
            6: ['æ»¡æ´²é‡Œ'],
            7: ['æ»¡æ´²é‡Œ', 'æµ·æ‹‰å°”']
        };

        function initMap() {
            try {
                // åˆ›å»ºåœ°å›¾å®ä¾‹
                map = new BMap.Map("map");
                
                // è®¾ç½®ä¸­å¿ƒç‚¹å’Œç¼©æ”¾çº§åˆ«
                const centerPoint = new BMap.Point(120.5, 51.5);
                map.centerAndZoom(centerPoint, 6);
                
                // å¯ç”¨æ»šè½®ç¼©æ”¾
                map.enableScrollWheelZoom(true);
                
                // æ·»åŠ æ§ä»¶
                map.addControl(new BMap.NavigationControl());
                map.addControl(new BMap.ScaleControl());
                
                // éšè—åŠ è½½æç¤º
                document.getElementById('mapLoading').style.display = 'none';
                
                // æ·»åŠ æ‰€æœ‰åœ°ç‚¹æ ‡è®°
                Object.entries(locations).forEach(([name, coords]) => {
                    const point = new BMap.Point(coords.lng, coords.lat);
                    const marker = new BMap.Marker(point);
                    
                    // åˆ›å»ºæ ‡ç­¾
                    const label = new BMap.Label(name, {
                        offset: new BMap.Size(20, -10)
                    });
                    label.setStyle({
                        color: '#333',
                        fontSize: '12px',
                        backgroundColor: 'rgba(255,255,255,0.9)',
                        border: '1px solid #ccc',
                        borderRadius: '3px',
                        padding: '2px 5px'
                    });
                    
                    marker.setLabel(label);
                    map.addOverlay(marker);
                    markers.push(marker);
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    marker.addEventListener("click", function() {
                        const info = new BMap.InfoWindow(`<div style="padding: 10px;">
                            <h4>${name}</h4>
                            <p>ç»åº¦: ${coords.lng}</p>
                            <p>çº¬åº¦: ${coords.lat}</p>
                        </div>`);
                        map.openInfoWindow(info, point);
                    });
                });

                // æ˜¾ç¤ºå®Œæ•´è·¯çº¿
                showFullRoute();
                
            } catch (error) {
                console.error('åœ°å›¾åˆå§‹åŒ–å¤±è´¥ï¼š', error);
                document.getElementById('mapLoading').innerHTML = 'åœ°å›¾åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•';
            }
        }

        function clearOverlays() {
            // æ¸…é™¤æ‰€æœ‰æŠ˜çº¿
            polylines.forEach(polyline => map.removeOverlay(polyline));
            polylines = [];
        }

        function setActiveButton(btn) {
            // ç§»é™¤ä¹‹å‰çš„activeç±»
            if (currentActiveBtn) {
                currentActiveBtn.classList.remove('active');
            }
            // è®¾ç½®æ–°çš„activeæŒ‰é’®
            if (btn) {
                btn.classList.add('active');
                currentActiveBtn = btn;
            }
        }

        function showFullRoute() {
            clearOverlays();
            setActiveButton(document.getElementById('btn-full'));
            
            const fullRoute = ['æ¼ æ²³æœºåœº', 'æ¼ æ²³å¸‚åŒº', 'åŒ—ææ‘', 'åŒ—çº¢æ‘', 'æ ¹æ²³', 'é¢å°”å¤çº³', 'æ©å’Œ', 'å®¤éŸ¦', 'æ»¡æ´²é‡Œ', 'æµ·æ‹‰å°”'];
            const points = [];
            
            // åˆ›å»ºæ‰€æœ‰ç‚¹
            fullRoute.forEach(location => {
                const coords = locations[location];
                points.push(new BMap.Point(coords.lng, coords.lat));
            });
            
            // åˆ›å»ºæŠ˜çº¿
            const polyline = new BMap.Polyline(points, {
                strokeColor: '#667eea',
                strokeWeight: 4,
                strokeOpacity: 0.8,
                strokeStyle: 'solid'
            });
            
            map.addOverlay(polyline);
            polylines.push(polyline);
            
            // è°ƒæ•´è§†é‡
            map.setViewport(points);
        }

        function showDayRoute(day) {
            clearOverlays();
            setActiveButton(event.target);
            
            const dayRoute = dailyRoutes[day];
            
            if (dayRoute.length > 1) {
                const points = [];
                
                // åˆ›å»ºè·¯çº¿ç‚¹
                dayRoute.forEach(location => {
                    const coords = locations[location];
                    points.push(new BMap.Point(coords.lng, coords.lat));
                });
                
                // åˆ›å»ºæŠ˜çº¿
                const polyline = new BMap.Polyline(points, {
                    strokeColor: '#e74c3c',
                    strokeWeight: 6,
                    strokeOpacity: 0.9,
                    strokeStyle: 'solid'
                });
                
                map.addOverlay(polyline);
                polylines.push(polyline);
                
                // è°ƒæ•´è§†é‡
                map.setViewport(points);
                
                // ä¸ºæ¯ä¸ªç‚¹æ·»åŠ åŠ¨ç”»
                points.forEach((point, index) => {
                    setTimeout(() => {
                        const marker = new BMap.Marker(point);
                        marker.setAnimation(BMAP_ANIMATION_DROP);
                        map.addOverlay(marker);
                        setTimeout(() => map.removeOverlay(marker), 3000);
                    }, index * 200);
                });
                
            } else {
                // å•æ—¥åœç•™ï¼Œèšç„¦åˆ°è¯¥åœ°ç‚¹
                const coords = locations[dayRoute[0]];
                const point = new BMap.Point(coords.lng, coords.lat);
                map.centerAndZoom(point, 12);
                
                // æ·»åŠ è·³åŠ¨åŠ¨ç”»æ ‡è®°
                const marker = new BMap.Marker(point);
                marker.setAnimation(BMAP_ANIMATION_BOUNCE);
                map.addOverlay(marker);
                setTimeout(() => map.removeOverlay(marker), 3000);
            }
        }

        function toggleDay(dayNum) {
            const content = document.getElementById(`day-${dayNum}`);
            const icon = document.getElementById(`icon-${dayNum}`);
            
            // å…³é—­å…¶ä»–æ‰€æœ‰å±•å¼€çš„æ—¥ç¨‹
            for (let i = 1; i <= 7; i++) {
                if (i !== dayNum) {
                    const otherContent = document.getElementById(`day-${i}`);
                    const otherIcon = document.getElementById(`icon-${i}`);
                    if (otherContent.classList.contains('active')) {
                        otherContent.classList.remove('active');
                        otherIcon.classList.remove('rotated');
                    }
                }
            }
            
            // åˆ‡æ¢å½“å‰æ—¥ç¨‹
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.classList.remove('rotated');
            } else {
                content.classList.add('active');
                icon.classList.add('rotated');
                // è‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”æ—¥æœŸçš„è·¯çº¿
                showDayRoute(dayNum);
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–åœ°å›¾
        window.onload = function() {
            // ç¡®ä¿ç™¾åº¦åœ°å›¾APIå·²åŠ è½½
            if (typeof BMap !== 'undefined') {
                initMap();
            } else {
                console.error('ç™¾åº¦åœ°å›¾APIæœªèƒ½æ­£ç¡®åŠ è½½');
                document.getElementById('mapLoading').innerHTML = 'ç™¾åº¦åœ°å›¾APIåŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';
            }
        };

        // å¤„ç†APIåŠ è½½é”™è¯¯
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'SCRIPT' && e.target.src.includes('api.map.baidu.com')) {
                console.error('ç™¾åº¦åœ°å›¾è„šæœ¬åŠ è½½å¤±è´¥');
                document.getElementById('mapLoading').innerHTML = 'åœ°å›¾æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åå†è¯•';
            }
        });
    </script>
</body>
</html>
