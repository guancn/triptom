<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>漠河与内蒙古边境自驾探险之旅</title>
    <!-- 更新百度地图API版本和配置 -->
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=N4BtpP9TDw5VDImqI9oEazOeiPlPQtoH"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .itinerary-section, .map-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .section-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px 30px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .itinerary-content {
            padding: 0;
            max-height: 600px;
            overflow-y: auto;
        }

        .day-item {
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .day-item:hover {
            background-color: #f8f9fa;
        }

        .day-item:last-child {
            border-bottom: none;
        }

        .day-header {
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        .day-content {
            padding: 20px 30px;
            display: none;
            background-color: #fafbfc;
        }

        .day-content.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .day-content h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .day-content p {
            margin-bottom: 12px;
            color: #555;
        }

        .route-info {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .route-info strong {
            color: #e67e22;
        }

        .accommodation {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .map-container {
            height: 600px;
            width: 100%;
            position: relative;
        }

        /* 添加加载提示样式 */
        .map-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #667eea;
            font-size: 18px;
            font-weight: 600;
        }

        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn.active {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .overview-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            padding: 30px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .overview-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
        }

        .overview-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .toggle-icon {
            transition: transform 0.3s ease;
        }

        .toggle-icon.rotated {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .day-header, .day-content, .section-header {
                padding: 15px 20px;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
        }

        .weather-info {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .highlight {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>漠河与内蒙古边境自驾探险之旅</h1>
            <p>8月27日-9月2日 · 7天6夜 · 探索中国最北端的壮丽风光与边境文化</p>
        </div>

        <div class="overview-section">
            <h2 style="text-align: center; color: #2c3e50; margin-bottom: 10px;">旅程亮点</h2>
            <p style="text-align: center; color: #7f8c8d; margin-bottom: 20px;">在夏末秋初的黄金季节，体验北疆独特的自然奇观与多元文化</p>
            <div class="overview-grid">
                <div class="overview-card">
                    <h3>🌲</h3>
                    <h4>漠河"北极"体验</h4>
                    <p>中国最北端，北极村，驯鹿园</p>
                </div>
                <div class="overview-card">
                    <h3>🌾</h3>
                    <h4>呼伦贝尔大草原</h4>
                    <p>金秋草原，蒙古包体验，骑马</p>
                </div>
                <div class="overview-card">
                    <h3>🏘️</h3>
                    <h4>俄罗斯风情</h4>
                    <p>恩和民族乡，满洲里边境城市</p>
                </div>
                <div class="overview-card">
                    <h3>🦌</h3>
                    <h4>原住民文化</h4>
                    <p>鄂伦春，鄂温克民族传统</p>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="itinerary-section">
                <div class="section-header">
                    📅 详细行程安排
                </div>
                <div class="itinerary-content">
                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(1)">
                            <span>第1天：抵达漠河</span>
                            <span class="toggle-icon" id="icon-1">▼</span>
                        </div>
                        <div class="day-content" id="day-1">
                            <div class="weather-info">
                                <strong>天气：</strong>8月末平均气温18°C，清爽宜人
                            </div>
                            <h4>📍 抵达安排</h4>
                            <p><strong>17:05</strong> 抵达漠河机场，办理租车手续</p>
                            <p><strong>傍晚：</strong>驱车前往漠河市区（13公里，20-30分钟）</p>
                            
                            <div class="route-info">
                                <strong>路线：</strong>漠河机场 → 漠河市区 <br>
                                <strong>距离：</strong>13公里 | <strong>用时：</strong>20-30分钟
                            </div>
                            
                            <h4>🏨 住宿建议</h4>
                            <div class="accommodation">
                                • 漠河银麓酒店（北极星广场店）<br>
                                • 艺龙酒店（漠河北极星广场市政府店）<br>
                                • 漠河宜合佳假日宾馆
                            </div>
                            
                            <h4>🍽️ 餐饮推荐</h4>
                            <p>品尝漠河当地特色菜肴，以野果、蘑菇、河鱼为特色</p>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(2)">
                            <span>第2天：漠河深度探索</span>
                            <span class="toggle-icon" id="icon-2">▼</span>
                        </div>
                        <div class="day-content" id="day-2">
                            <h4>🌅 上午行程</h4>
                            <p>从漠河市区出发前往北极村（80公里，1.5小时）</p>
                            
                            <div class="highlight">
                                <strong>重点景点：</strong><br>
                                • 北极沙洲（中国最北点）<br>
                                • 最北邮局（寄明信片留念）<br>
                                • 最北哨所（外观）<br>
                                • 庄严界碑
                            </div>
                            
                            <h4>🌄 下午行程</h4>
                            <p>• 鄂温克驯鹿园：与驯鹿亲密互动</p>
                            <p>• 龙江第一湾：登998级台阶俯瞰Ω形江湾</p>
                            <p>• 乌苏里浅滩：中国最北点（北纬53°33′43″）</p>
                            
                            <div class="route-info">
                                <strong>总路程：</strong>约230公里 | <strong>驾驶时间：</strong>4.5小时
                            </div>
                            
                            <h4>🏡 夜宿北红村</h4>
                            <div class="accommodation">
                                推荐：北红村火炕民宿<br>
                                体验地道东北民俗，品尝农家菜
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(3)">
                            <span>第3天：森林大穿越 - 北红村至根河</span>
                            <span class="toggle-icon" id="icon-3">▼</span>
                        </div>
                        <div class="day-content" id="day-3">
                            <h4>🌲 森林穿越之旅</h4>
                            <p>体验从漠河到内蒙古的景观过渡，穿越茂密原始森林</p>
                            
                            <div class="route-info">
                                <strong>路线：</strong>北红村 → 满归镇 → 根河<br>
                                <strong>距离：</strong>300公里 | <strong>用时：</strong>4-5小时
                            </div>
                            
                            <h4>🍽️ 中途休息</h4>
                            <p>在满归镇停靠午餐，品尝林区特色小吃</p>
                            
                            <h4>🌿 抵达根河</h4>
                            <p>探索根河湿地公园，享受生态美景</p>
                            
                            <div class="accommodation">
                                住宿：根河敖鲁古雅酒店<br>
                                环境优雅，邻近景区
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(4)">
                            <span>第4天：湿地与俄罗斯风情</span>
                            <span class="toggle-icon" id="icon-4">▼</span>
                        </div>
                        <div class="day-content" id="day-4">
                            <h4>💧 额尔古纳湿地</h4>
                            <p>参观亚洲最大湿地，从观景平台欣赏壮丽景色</p>
                            
                            <div class="route-info">
                                <strong>路线：</strong>根河 → 额尔古纳 → 恩和<br>
                                <strong>距离：</strong>150公里 | <strong>用时：</strong>2-3小时
                            </div>
                            
                            <h4>🏘️ 恩和俄罗斯民族乡</h4>
                            <p>沉浸式俄罗斯文化体验：</p>
                            <p>• 独特木刻楞建筑</p>
                            <p>• 俄语与汉语并存</p>
                            <p>• 传统俄罗斯生活方式</p>
                            
                            <div class="accommodation">
                                住宿：恩和俄式木刻楞民宿<br>
                                • 恩和卓娅俄罗斯旅游之家<br>
                                • 恩和玛璐夏家庭游住宿<br>
                                • 恩和河畔木屋民宿
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(5)">
                            <span>第5天：中俄边境与草原风光</span>
                            <span class="toggle-icon" id="icon-5">▼</span>
                        </div>
                        <div class="day-content" id="day-5">
                            <h4>🏛️ 室韦俄罗斯民族乡</h4>
                            <p>体验"蒙源、俄俗、生态、界河"的独特魅力</p>
                            <p>漫步额尔古纳河畔，远眺俄罗斯村庄</p>
                            
                            <div class="route-info">
                                <strong>上午：</strong>恩和 → 室韦（67公里，1小时）<br>
                                <strong>下午：</strong>室韦 → 恩和 → 满洲里（200公里，2-3小时）
                            </div>
                            
                            <h4>🌾 深入呼伦贝尔大草原</h4>
                            <p>驱车穿越标志性的金色草原腹地</p>
                            
                            <h4>🏙️ 抵达满洲里</h4>
                            <p>重要边境城市，浓郁俄罗斯风情</p>
                            
                            <div class="accommodation">
                                住宿选择：<br>
                                • Matryoshka Hotel（套娃主题）<br>
                                • 满洲里大饭店（地标性酒店）<br>
                                • 汉庭满洲里北湖公园酒店
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(6)">
                            <span>第6天：满洲里与草原深度体验</span>
                            <span class="toggle-icon" id="icon-6">▼</span>
                        </div>
                        <div class="day-content" id="day-6">
                            <h4>🎪 满洲里市区游览</h4>
                            <p>• 套娃广场：巨型俄罗斯套娃</p>
                            <p>• 满洲里国门：边境地标</p>
                            
                            <div class="highlight">
                                <strong>重要提醒：</strong><br>
                                参观边境区域前务必了解相关规定和限制，遵守边境管理要求
                            </div>
                            
                            <h4>🐎 呼伦贝尔大草原体验</h4>
                            <p>• 骑马体验</p>
                            <p>• 拜访牧民家庭</p>
                            <p>• 了解游牧生活方式</p>
                            
                            <h4>🍖 传统内蒙古盛宴</h4>
                            <p>品尝羊肉菜肴和特色奶制品</p>
                            
                            <div class="accommodation">
                                特色住宿：蒙古包体验<br>
                                感受游牧民族传统生活
                            </div>
                        </div>
                    </div>

                    <div class="day-item">
                        <div class="day-header" onclick="toggleDay(7)">
                            <span>第7天：告别草原，启程返程</span>
                            <span class="toggle-icon" id="icon-7">▼</span>
                        </div>
                        <div class="day-content" id="day-7">
                            <h4>🌅 最后的草原时光</h4>
                            <p>享用丰盛的内蒙古早餐</p>
                            
                            <div class="route-info">
                                <strong>路线：</strong>满洲里 → 海拉尔<br>
                                <strong>距离：</strong>60公里 | <strong>用时：</strong>1-2小时
                            </div>
                            
                            <h4>🌊 莫尔格勒河</h4>
                            <p>欣赏"九曲十八弯"的柔美曲线，为旅程画上完美句号</p>
                            
                            <h4>✈️ 返程安排</h4>
                            <p><strong>航班时间：</strong>17:35 海拉尔机场起飞</p>
                            <p><strong>下午安排：</strong>海拉尔市区活动，购买纪念品</p>
                            <p>可参观反法西斯纪念园</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="map-section">
                <div class="section-header">
                    🗺️ 路线地图
                </div>
                <div id="map" class="map-container">
                    <div class="map-loading" id="mapLoading">地图加载中...</div>
                </div>
                <div class="controls">
                    <button class="btn" id="btn-full" onclick="showFullRoute()">显示完整路线</button>
                    <button class="btn" onclick="showDayRoute(1)">第1天</button>
                    <button class="btn" onclick="showDayRoute(2)">第2天</button>
                    <button class="btn" onclick="showDayRoute(3)">第3天</button>
                    <button class="btn" onclick="showDayRoute(4)">第4天</button>
                    <button class="btn" onclick="showDayRoute(5)">第5天</button>
                    <button class="btn" onclick="showDayRoute(6)">第6天</button>
                    <button class="btn" onclick="showDayRoute(7)">第7天</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let map;
        let markers = [];
        let polylines = [];
        let currentActiveBtn = null;
        
        // 主要地点坐标
        const locations = {
            '漠河机场': {lng: 122.432, lat: 52.911},
            '漠河市区': {lng: 122.539, lat: 52.972},
            '北极村': {lng: 122.377, lat: 53.484},
            '北红村': {lng: 122.186, lat: 53.436},
            '根河': {lng: 121.520, lat: 50.780},
            '额尔古纳': {lng: 120.191, lat: 50.244},
            '恩和': {lng: 120.033, lat: 51.283},
            '室韦': {lng: 120.747, lat: 51.123},
            '满洲里': {lng: 117.378, lat: 49.597},
            '海拉尔': {lng: 119.736, lat: 49.213}
        };

        // 每日路线
        const dailyRoutes = {
            1: ['漠河机场', '漠河市区'],
            2: ['漠河市区', '北极村', '北红村'],
            3: ['北红村', '根河'],
            4: ['根河', '额尔古纳', '恩和'],
            5: ['恩和', '室韦', '满洲里'],
            6: ['满洲里'],
            7: ['满洲里', '海拉尔']
        };

        function initMap() {
            try {
                // 创建地图实例
                map = new BMap.Map("map");
                
                // 设置中心点和缩放级别
                const centerPoint = new BMap.Point(120.5, 51.5);
                map.centerAndZoom(centerPoint, 6);
                
                // 启用滚轮缩放
                map.enableScrollWheelZoom(true);
                
                // 添加控件
                map.addControl(new BMap.NavigationControl());
                map.addControl(new BMap.ScaleControl());
                
                // 隐藏加载提示
                document.getElementById('mapLoading').style.display = 'none';
                
                // 添加所有地点标记
                Object.entries(locations).forEach(([name, coords]) => {
                    const point = new BMap.Point(coords.lng, coords.lat);
                    const marker = new BMap.Marker(point);
                    
                    // 创建标签
                    const label = new BMap.Label(name, {
                        offset: new BMap.Size(20, -10)
                    });
                    label.setStyle({
                        color: '#333',
                        fontSize: '12px',
                        backgroundColor: 'rgba(255,255,255,0.9)',
                        border: '1px solid #ccc',
                        borderRadius: '3px',
                        padding: '2px 5px'
                    });
                    
                    marker.setLabel(label);
                    map.addOverlay(marker);
                    markers.push(marker);
                    
                    // 添加点击事件
                    marker.addEventListener("click", function() {
                        const info = new BMap.InfoWindow(`<div style="padding: 10px;">
                            <h4>${name}</h4>
                            <p>经度: ${coords.lng}</p>
                            <p>纬度: ${coords.lat}</p>
                        </div>`);
                        map.openInfoWindow(info, point);
                    });
                });

                // 显示完整路线
                showFullRoute();
                
            } catch (error) {
                console.error('地图初始化失败：', error);
                document.getElementById('mapLoading').innerHTML = '地图加载失败，请刷新页面重试';
            }
        }

        function clearOverlays() {
            // 清除所有折线
            polylines.forEach(polyline => map.removeOverlay(polyline));
            polylines = [];
        }

        function setActiveButton(btn) {
            // 移除之前的active类
            if (currentActiveBtn) {
                currentActiveBtn.classList.remove('active');
            }
            // 设置新的active按钮
            if (btn) {
                btn.classList.add('active');
                currentActiveBtn = btn;
            }
        }

        function showFullRoute() {
            clearOverlays();
            setActiveButton(document.getElementById('btn-full'));
            
            const fullRoute = ['漠河机场', '漠河市区', '北极村', '北红村', '根河', '额尔古纳', '恩和', '室韦', '满洲里', '海拉尔'];
            const points = [];
            
            // 创建所有点
            fullRoute.forEach(location => {
                const coords = locations[location];
                points.push(new BMap.Point(coords.lng, coords.lat));
            });
            
            // 创建折线
            const polyline = new BMap.Polyline(points, {
                strokeColor: '#667eea',
                strokeWeight: 4,
                strokeOpacity: 0.8,
                strokeStyle: 'solid'
            });
            
            map.addOverlay(polyline);
            polylines.push(polyline);
            
            // 调整视野
            map.setViewport(points);
        }

        function showDayRoute(day) {
            clearOverlays();
            setActiveButton(event.target);
            
            const dayRoute = dailyRoutes[day];
            
            if (dayRoute.length > 1) {
                const points = [];
                
                // 创建路线点
                dayRoute.forEach(location => {
                    const coords = locations[location];
                    points.push(new BMap.Point(coords.lng, coords.lat));
                });
                
                // 创建折线
                const polyline = new BMap.Polyline(points, {
                    strokeColor: '#e74c3c',
                    strokeWeight: 6,
                    strokeOpacity: 0.9,
                    strokeStyle: 'solid'
                });
                
                map.addOverlay(polyline);
                polylines.push(polyline);
                
                // 调整视野
                map.setViewport(points);
                
                // 为每个点添加动画
                points.forEach((point, index) => {
                    setTimeout(() => {
                        const marker = new BMap.Marker(point);
                        marker.setAnimation(BMAP_ANIMATION_DROP);
                        map.addOverlay(marker);
                        setTimeout(() => map.removeOverlay(marker), 3000);
                    }, index * 200);
                });
                
            } else {
                // 单日停留，聚焦到该地点
                const coords = locations[dayRoute[0]];
                const point = new BMap.Point(coords.lng, coords.lat);
                map.centerAndZoom(point, 12);
                
                // 添加跳动动画标记
                const marker = new BMap.Marker(point);
                marker.setAnimation(BMAP_ANIMATION_BOUNCE);
                map.addOverlay(marker);
                setTimeout(() => map.removeOverlay(marker), 3000);
            }
        }

        function toggleDay(dayNum) {
            const content = document.getElementById(`day-${dayNum}`);
            const icon = document.getElementById(`icon-${dayNum}`);
            
            // 关闭其他所有展开的日程
            for (let i = 1; i <= 7; i++) {
                if (i !== dayNum) {
                    const otherContent = document.getElementById(`day-${i}`);
                    const otherIcon = document.getElementById(`icon-${i}`);
                    if (otherContent.classList.contains('active')) {
                        otherContent.classList.remove('active');
                        otherIcon.classList.remove('rotated');
                    }
                }
            }
            
            // 切换当前日程
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.classList.remove('rotated');
            } else {
                content.classList.add('active');
                icon.classList.add('rotated');
                // 自动显示对应日期的路线
                showDayRoute(dayNum);
            }
        }

        // 页面加载完成后初始化地图
        window.onload = function() {
            // 确保百度地图API已加载
            if (typeof BMap !== 'undefined') {
                initMap();
            } else {
                console.error('百度地图API未能正确加载');
                document.getElementById('mapLoading').innerHTML = '百度地图API加载失败，请检查网络连接';
            }
        };

        // 处理API加载错误
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'SCRIPT' && e.target.src.includes('api.map.baidu.com')) {
                console.error('百度地图脚本加载失败');
                document.getElementById('mapLoading').innerHTML = '地图服务暂时不可用，请稍后再试';
            }
        });
    </script>
</body>
</html>
